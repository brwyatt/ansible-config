---
chrony_sources:
  - type: "pool"
    location: "us.pool.ntp.org"
    iburst: true
    trust: true
  - type: "server"
    location: ntp-gps.server.home.brwyatt.net
    prefer: true
    iburst: true
    trust: true
    minpoll: 4
    maxpoll: 4
  - type: "peer"
    location: ntp01.server.home.brwyatt.net
    key: "1"
  - type: "peer"
    location: ntp02.server.home.brwyatt.net
    key: "1"
  - type: "peer"
    location: ntp03.server.home.brwyatt.net
    key: "1"
  - type: "peer"
    location: ntp04.server.home.brwyatt.net
    key: "1"
chrony_bindaddress: "0.0.0.0"
chrony_allow:
  - "172.16.0.0/12"
keepalived_check_scripts:
  vip203_absent:
    type: vip_absent
    vip: 172.17.30.203
    weight: "-10"
  vip204_absent:
    type: vip_absent
    vip: 172.17.30.204
    weight: "-10"
  chrony:
    type: chrony
keepalived_instances:
  vip203:
    virtual_ip: 172.17.30.203/24
    auth_pass: "{{ keepalived_auth_pass_203 }}"
    nopreempt: false
    check_scripts:
      - vip204_absent
      - chrony
  vip204:
    virtual_ip: 172.17.30.204/24
    auth_pass: "{{ keepalived_auth_pass_204 }}"
    nopreempt: false
    check_scripts:
      - vip203_absent
      - chrony
